@model ChoCastle.Models.GroupShoppingCartViewModels


@{
    ViewBag.Title = "OrderConfirmation";
    Layout = "~/Views/Shared/_Layout.cshtml";
}


<br />
<br />
<br />
<br />
<br />
<br />
<br />

<div id="fh5co-started" class="fh5co-section animate-box" style="background-image: url(/Template/images/hero_1.jpeg);" data-stellar-background-ratio="0.5">
    <div class="overlay"></div>
    <div class="container">

        @if (@ViewBag.OrderID != null)
        {
        <div class="row animate-box text-capitalize">
            <h2 style="color:#B8860B">訂單完成</h2>

            親愛的 顧客 您好：<br />
            您的訂單已經完成，
            已收到您的訂購資訊
            @String.Format("(訂單編號： {0:D4}{1:D2}{2:D2}{3, 0:D4})", DateTime.Now.Year, DateTime.Now.Month, DateTime.Now.Day, @ViewBag.OrderID)
            ，感謝您訂購巧克力城堡的優質產品！<br />
            
            <p>
                [ @Html.ActionLink("繼續", "Index", "Home") ]
            </p>
        </div>
        }
        else
        {
            <div class="row animate-box text-capitalize">
                <h2 style="color:#B8860B">訂單確認</h2>

                <dl class="dl-horizontal">

                    <dt>
                        @Html.DisplayNameFor(model => model.ShoppingCart.OrderName)
                    </dt>

                    <dd>
                        @Html.DisplayFor(model => model.ShoppingCart.OrderName)
                    </dd>

                    <dt>
                        @Html.DisplayNameFor(model => model.ShoppingCart.ShipName)
                    </dt>

                    <dd>
                        @Html.DisplayFor(model => model.ShoppingCart.ShipName)
                    </dd>

                    <dt>
                        @Html.DisplayNameFor(model => model.ShoppingCart.PhoneNumber)
                    </dt>

                    <dd>
                        @Html.DisplayFor(model => model.ShoppingCart.PhoneNumber)
                    </dd>

                    <dt>
                        @Html.DisplayNameFor(model => model.ShoppingCart.ShippingAddress)
                    </dt>

                    <dd>
                        @Html.DisplayFor(model => model.ShoppingCart.ShippingAddress)
                    </dd>

                    <dt>
                        @Html.DisplayNameFor(model => model.ShoppingCart.Delivery)
                    </dt>

                    <dd>

                        @ViewBag.DeliveryType

                    </dd>

                    <dt>
                        @Html.DisplayNameFor(model => model.ShoppingCart.ShippingCost)
                    </dt>

                    <dd>
                        $ @Html.DisplayFor(model => model.ShoppingCart.ShippingCost)
                    </dd>

                    <dt>
                        @Html.DisplayNameFor(model => model.ShoppingCart.TotalAmount)
                    </dt>

                    <dd>
                        $ @Html.DisplayFor(model => model.ShoppingCart.TotalAmount)
                    </dd>

                    <dt>
                        @Html.DisplayNameFor(model => model.ShoppingCart.Payment)
                    </dt>

                    <dd>
                        @ViewBag.PaymentType
                    </dd>

                    <dt>
                        @Html.DisplayNameFor(model => model.ShoppingCart.RequiredDate)
                    </dt>

                    <dd>
                        @Html.DisplayFor(model => model.ShoppingCart.RequiredDate)
                    </dd>



                    <dt>
                        @Html.DisplayNameFor(model => model.ShoppingCart.CompanyNumber)
                    </dt>

                    <dd>
                        @Html.DisplayFor(model => model.ShoppingCart.CompanyNumber)
                    </dd>

                    <dt>
                        @Html.DisplayNameFor(model => model.ShoppingCart.InvoiceHeading)
                    </dt>

                    <dd>
                        @Html.DisplayFor(model => model.ShoppingCart.InvoiceHeading)
                    </dd>

                    <dt>
                        @Html.DisplayNameFor(model => model.ShoppingCart.InvoiceType)
                    </dt>

                    <dd>

                        @ViewBag.InvoiceType
                    </dd>

                    <dt>
                        @*@Html.DisplayNameFor(model => model.ShoppingDetail.ProductName)*@
                    </dt>

                    <dd>
                        @*@Html.DisplayFor(model => model.ShoppingDetail.ProductName)*@
                    </dd>

                </dl>

                <h4 style="color:#B8860B">商品明細</h4>

                <table class="table">
                    <tr>
                        <th>
                            商品名稱
                        </th>
                        <th>
                            單價
                        </th>
                        <th>
                            訂購數量
                        </th>
                        <th>
                            小計
                        </th>

                    </tr>

                    @foreach (var item in Model.ShoppingDetails.ToList())
                    {
                        <tr>
                            <td>
                                @Html.DisplayFor(modelItem => item.ProductName)
                            </td>
                            <td>
                                @Html.DisplayFor(modelItem => item.UnitPrice)
                            </td>
                            <td>
                                @Html.DisplayFor(modelItem => item.OrderQuantity)
                            </td>
                            <td>
                                @Html.DisplayFor(modelItem => item.Subtotal)
                            </td>


                        </tr>
                    }
                    <tr>
                        <td>
                        </td>
                        <td>
                        </td>
                        <td>
                            @Html.DisplayNameFor(model => model.ShoppingCart.ShippingCost)
                            $ @Html.DisplayFor(model => model.ShoppingCart.ShippingCost)
                        </td>
                        <td>
                            總計
                            $ @Html.DisplayFor(model => model.ShoppingCart.TotalAmount)
                        </td>


                    </tr>
                </table>
                <p>
                    @using (Html.BeginForm("OrderConfirmation", "ShoppingCart", FormMethod.Post, new { @class = "form-horizontal", role = "form" }))
                    {
                        @Html.AntiForgeryToken()
                        @Html.HiddenFor(model => model.ShoppingCart.CarID)
                        <div class="col-md-12" style="text-align:center">
                            <input type="submit" class="btn btn-primary btn-outline btn-lg" value="送出">

                        </div>
                    }

                    @Html.ActionLink("回上一頁", "ShoppingCartDetail")
                </p>
            </div>
        }


    </div>
</div>