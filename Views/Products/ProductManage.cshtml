@model ChoCastle.Controllers.ProductsController.viewModel

@{
    ViewBag.Title = "ProductManage";
    Layout = "~/Views/Shared/_LayoutBackEnd.cshtml";
}

<!--main content start-->
<section id="main-content">
    <section class="wrapper">
        <h3><i class="fa fa-angle-right"></i> 產品管理</h3>
        <!-- row -->
        <div class="row mt">
            <div class="col-md-12">
                <div class="content-panel">
                    <form method="post">
                        @Html.AntiForgeryToken()
                        <div class="form-group">
                            @*@Html.LabelFor(model => model.Product.CategoryID, "商品分類", htmlAttributes: new { @class = "control-label col-md-3" })*@
                            <label class="control-label col-md-6" style="text-align:right">商品編號:</label>
                            <div class="col-md-6 col-xs-11">
                                @Html.EditorFor(model => model.ProductID)                                
                                @*@Html.Editor("ProductID", new {id = "ProductID", @class = "form-control form-control-inline input-medium" })*@
                                @*@Html.DropDownList("CategoryID", null, htmlAttributes: new { @class = "form-control form-control-inline input-medium default-date-picker" })*@
                                @*@Html.ValidationMessageFor(model => model.Product.VendorID, "", new { @class = "help-block" })*@
                            </div>
                            <label class="control-label col-md-6" style="text-align:right">商品分類:</label>
                            <div class="col-md-6 col-xs-11">
                                @*@Html.DropDownList("CategoryID", null, htmlAttributes: new { id = "ProductCategory", @class = "form-control form-control-inline input-medium " })*@
                                @Html.DropDownListFor(model => model.CategoryID, Model.lst_Selectitem_CID, new {  })
                                @*@Html.Editor("ProductCategory", new { id = "ProductCategory", @class = "form-control form-control-inline input-medium" })*@
                                @*@Html.DropDownList("CategoryID", null, htmlAttributes: new { @class = "form-control form-control-inline input-medium default-date-picker" })*@
                                @*@Html.ValidationMessageFor(model => model.Product.VendorID, "", new { @class = "help-block" })*@
                            </div>
                            <label class="control-label col-md-6" style="text-align:right">商品名稱:</label>
                            <div class="col-md-6 col-xs-11">
                                @Html.EditorFor(model => model.ProductName)
                                @*@Html.Editor("ProductName", new {id = "ProductName" , @class = "form-control form-control-inline input-medium" })*@
                                @*@Html.DropDownList("CategoryID", null, htmlAttributes: new { @class = "form-control form-control-inline input-medium default-date-picker" })*@
                                @*@Html.ValidationMessageFor(model => model.Product.VendorID, "", new { @class = "help-block" })*@
                            </div>
                            <label class="control-label col-md-6" style="text-align:right">上架情況:</label>
                            <div class="col-md-6 col-xs-11">
                                @Html.DropDownListFor(model => model.isDisplay, Model.lst_Selectitem_Display)
                                @*@Html.Editor("isDisplay", new {id = "isDisplay" , @class = "form-control form-control-inline input-medium" })*@
                                @*@Html.DropDownList("CategoryID", null, htmlAttributes: new { @class = "form-control form-control-inline input-medium default-date-picker" })*@
                                @*@Html.ValidationMessageFor(model => model.Product.VendorID, "", new { @class = "help-block" })*@
                            </div>
                            
                        </div>
                        <div class="form-group">
                            <div class="col-md-6 col-xs-11">
                                <button type="submit">查詢</button>
                            </div>
                        </div>
                    </form>
                    
                    <hr />
                    <table class="table table-striped table-advance table-hover">
                        <h4><i class="fa fa-angle-right"></i> 產品列表</h4>
                        <hr />
                        <div style="text-align:left">
                            <a class="btn btn-warning " href="@Url.Action("Create", "Products")"> 新增</a>
                        </div>
                        <thead>
                            <tr>
                                <th><i class="fa fa-bullhorn"></i> 商品編號</th>
                                <th><i class="fa fa-bars"></i> 商品分類</th>
                                <th><i class="fa fa-tag"></i> 商品名稱</th>
                                <th><i class="fa fa-money"></i> 售價</th>
                                <th><i class=" fa fa-shopping-cart"></i> 上架情況</th>
                                <th><i class=" fa fa-edit"></i> 操作</th>
                            </tr>
                        </thead>
                        <tbody>
                            <!--檢查資料是否有內容-->
                            @if (Model.lst_Product.ToList().Count > 0)
                            {
                                foreach (var product in Model.lst_Product)
                                {
                                    <tr>
                                        <td>
                                            <a href="basic_table.html#">@product.ProductID</a>
                                        </td>
                                        <td>
                                            @product.ProductCategory.CategoryName
                                        </td>
                                        <td class="hidden-phone">@product.ProductName</td>
                                        <td>$ @product.SellingPrice </td>
                                        <td>
                                            @if (product.isDisplay is true)
                                            {
                                                <span class="label label-info label-mini">上架</span>
                                            }
                                            else
                                            {
                                                <span class="label label-danger label-mini">下架</span>
                                            }
                                        </td>
                                        <td>
                                            <a class="btn btn-primary btn-xs" href="@Url.Action("Edit", "Products", new { id = product.ProductID })"><i class="fa fa-pencil"></i>編輯</a>
                                            <a class="btn btn-danger btn-xs" href="@Url.Action("Delete", "Products", new { id = product.ProductID })" onclick="javascript: if(!confirm('確定要刪除 編號:@product.ProductID 產品嗎？')){return false;}"><i class="fa fa-pencil"></i>刪除</a>
                                        </td>
                                    </tr>
                                }
                            }
                            else
                            {
                                <tr>
                                    <td colspan="6" style="text-align:center">目前查無資料</td>
                                </tr>
                            }
                        </tbody>
                    </table>
                </div>
                <!-- /content-panel -->
            </div>
            <!-- /col-md-12 -->
        </div>
        <!-- /row -->
    </section>
</section>
<!-- /MAIN CONTENT -->
<!--main content end-->
